[gd_scene load_steps=15 format=3 uid="uid://8hapkwxov1pd"]

[ext_resource type="Script" path="res://Scripts/Character Control/Player.gd" id="1_ilyk7"]
[ext_resource type="Script" path="res://Scripts/Character Control/Camera.gd" id="2_wi6dn"]
[ext_resource type="Texture2D" uid="uid://dm08h36dxwy8g" path="res://assets/aaa.png" id="3_5ucp4"]
[ext_resource type="Script" path="res://Scripts/Character Control/Mouse Collisions.gd" id="4_ap2x5"]
[ext_resource type="Script" path="res://Scripts/Character Control/Modes/ClawMode.gd" id="5_onw8k"]
[ext_resource type="Texture2D" uid="uid://brbmk8ynnhi7j" path="res://assets/TEMP - Claw Art.png" id="6_i5tgv"]
[ext_resource type="Script" path="res://Scripts/Character Control/Modes/DestroyMode.gd" id="7_6s25o"]
[ext_resource type="Texture2D" uid="uid://ckus1v6olefbt" path="res://assets/TEMP - Boom_Slime_SP.webp" id="8_fmpx5"]
[ext_resource type="Script" path="res://Scripts/Character Control/Modes/BuildMode.gd" id="9_jfo1f"]
[ext_resource type="Texture2D" uid="uid://ct8lx667n600j" path="res://assets/TEMP - Build Mode Art.png" id="10_26d5b"]
[ext_resource type="Script" path="res://Scripts/Character Control/Modes/NailMode.gd" id="11_30ads"]
[ext_resource type="Texture2D" uid="uid://lh23aj6hup87" path="res://assets/TEMP - Nail Mode Art.png" id="12_u56qt"]

[sub_resource type="CircleShape2D" id="CircleShape2D_0tx6s"]
radius = 25.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_erxl4"]
size = Vector2(13, 44.25)

[node name="Player" type="CharacterBody2D" node_paths=PackedStringArray("player_sprite") groups=["Player"]]
floor_max_angle = 0.523599
floor_snap_length = 30.0
script = ExtResource("1_ilyk7")
player_sprite = NodePath("Sprite")

[node name="Camera2D" type="Camera2D" parent="." node_paths=PackedStringArray("look_target")]
top_level = true
position = Vector2(242, -68)
script = ExtResource("2_wi6dn")
look_target = NodePath("..")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_0tx6s")

[node name="Sprite" type="Sprite2D" parent="."]
position = Vector2(8, 0)
scale = Vector2(0.25, 0.25)
texture = ExtResource("3_5ucp4")

[node name="Mode Container" type="RayCast2D" parent="." node_paths=PackedStringArray("claw_mode", "destroy_mode", "build_mode", "nail_mode", "saw_mode")]
target_position = Vector2(0, 1000)
script = ExtResource("4_ap2x5")
claw_mode = NodePath("Claw Mode")
destroy_mode = NodePath("Destroy Mode")
build_mode = NodePath("Build Mode")
nail_mode = NodePath("Nail Mode")
saw_mode = NodePath("Saw Mode")

[node name="Claw Mode" type="Area2D" parent="Mode Container" node_paths=PackedStringArray("player_controller")]
visible = false
top_level = true
input_pickable = false
script = ExtResource("5_onw8k")
player_controller = NodePath("../..")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Mode Container/Claw Mode"]
position = Vector2(-0.500001, -2.125)
shape = SubResource("RectangleShape2D_erxl4")

[node name="Item Position" type="Node2D" parent="Mode Container/Claw Mode"]
position = Vector2(-60, 216)

[node name="Claw Art" type="Sprite2D" parent="Mode Container/Claw Mode"]
position = Vector2(0, 28)
scale = Vector2(0.6, 0.6)
texture = ExtResource("6_i5tgv")

[node name="Destroy Mode" type="Node2D" parent="Mode Container"]
visible = false
top_level = true
script = ExtResource("7_6s25o")

[node name="Destroy Art" type="Sprite2D" parent="Mode Container/Destroy Mode"]
position = Vector2(-1.96701e-06, 45)
scale = Vector2(0.05, 0.05)
texture = ExtResource("8_fmpx5")

[node name="Build Mode" type="Node2D" parent="Mode Container"]
visible = false
script = ExtResource("9_jfo1f")

[node name="Build Art" type="Sprite2D" parent="Mode Container/Build Mode"]
position = Vector2(0, 28)
rotation = 1.5708
scale = Vector2(0.1, 0.1)
texture = ExtResource("10_26d5b")

[node name="Nail Mode" type="Node2D" parent="Mode Container"]
script = ExtResource("11_30ads")

[node name="Nail Mode Art" type="Sprite2D" parent="Mode Container/Nail Mode"]
position = Vector2(0, 28)
rotation = 1.5708
scale = Vector2(0.2, 0.2)
texture = ExtResource("12_u56qt")
flip_h = true

[node name="Marker2D" type="Marker2D" parent="Mode Container/Nail Mode"]
position = Vector2(10, 55)

[node name="Timer" type="Timer" parent="Mode Container/Nail Mode"]

[node name="Saw Mode" type="Node2D" parent="Mode Container"]

[connection signal="body_entered" from="Mode Container/Claw Mode" to="Mode Container/Claw Mode" method="_on_body_entered"]
[connection signal="timeout" from="Mode Container/Nail Mode/Timer" to="Mode Container/Nail Mode" method="_on_timer_timeout"]
